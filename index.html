<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulador Atómico - Transiciones</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #0f0f0f;
      color: #ffffff;
    }

    h1 {
      color: #00eaff;
    }

    label, select, button {
      font-size: 18px;
      margin: 10px;
    }

    #atom {
      margin: 20px auto;
      width: 400px;
      height: 400px;
      position: relative;
    }

    #nucleo {
      width: 30px;
      height: 30px;
      background-color: #ff0040;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 15px #ff004077;
    }

    .orbit {
      border: 1px solid #00eaff;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .electron {
      width: 12px;
      height: 12px;
      background-color: #ffcc00;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      margin: -6px 0 0 -6px;
      animation: orbit 4s linear infinite;
    }

    @keyframes orbit {
      0% { transform: rotate(0deg) translateX(var(--radius)) rotate(0deg); }
      100% { transform: rotate(360deg) translateX(var(--radius)) rotate(-360deg); }
    }

    #resultado {
      border: 2px solid #00eaff;
      border-radius: 10px;
      padding: 20px;
      margin-top: 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      background-color: #1a1a1a;
      box-shadow: 0 0 15px #00eaff55;
      color: #ffffff;
      font-size: 18px;
      white-space: pre-line;
    }
  </style>
</head>
<body>

  <h1>Simulador Atómico</h1>

  <label for="elemento">Número atómico (Z):</label>
  <select id="elemento">
    <option value="1">Hidrógeno (1)</option>
    <option value="2">Helio (2)</option>
    <option value="3">Litio (3)</option>
    <option value="4">Berilio (4)</option>
    <option value="5">Boro (5)</option>
    <option value="6">Carbono (6)</option>
    <option value="7">Nitrógeno (7)</option>
    <option value="8">Oxígeno (8)</option>
    <option value="9">Flúor (9)</option>
    <option value="10">Neón (10)</option>
  </select><br>

  <label for="nivelInicio">Nivel inicial:</label>
  <select id="nivelInicio">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
  </select>

  <label for="nivelFinal">Nivel final:</label>
  <select id="nivelFinal">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
  </select>

  <br><br>
  <button onclick="crearAtomo()">Visualizar átomo</button>

  <div id="atom"></div>

  <div id="resultado">
    Resultado de la transición atómica aparecerá aquí.
  </div>

  <script>
    // Función para hablar el mensaje de bienvenida
    window.onload = function() {
      const mensaje = new SpeechSynthesisUtterance("Bienvenido señor usuario");
      // Opcional: cambiar voz, velocidad, volumen, etc.
      mensaje.lang = 'es-ES';
      mensaje.rate = 1;
      window.speechSynthesis.speak(mensaje);
    };

    function distribucionElectrones(Z) {
      const niveles = [2, 8, 18, 32];
      const config = [];
      let restantes = Z;

      for (let i = 0; i < niveles.length; i++) {
        if (restantes > niveles[i]) {
          config.push(niveles[i]);
          restantes -= niveles[i];
        } else {
          config.push(restantes);
          restantes = 0;
          break;
        }
      }
      return config;
    }

    function crearAtomo() {
      const Z = parseInt(document.getElementById("elemento").value);
      const nivelInicio = parseInt(document.getElementById("nivelInicio").value);
      const nivelFinal = parseInt(document.getElementById("nivelFinal").value);
      const atom = document.getElementById("atom");
      atom.innerHTML = ""; // Limpiar

      // Añadir núcleo
      const nucleo = document.createElement("div");
      nucleo.id = "nucleo";
      atom.appendChild(nucleo);

      const config = distribucionElectrones(Z);
      const configSeleccionada = config.slice(Math.min(nivelInicio, nivelFinal) - 1, Math.max(nivelInicio, nivelFinal));

      configSeleccionada.forEach((electrones, i) => {
        const nivel = Math.min(nivelInicio, nivelFinal) + i;
        const size = 80 + (nivel - 1) * 60;
        const orbit = document.createElement("div");
        orbit.className = "orbit";
        orbit.style.width = ${size}px;
        orbit.style.height = ${size}px;
        atom.appendChild(orbit);

        for (let j = 0; j < electrones; j++) {
          const electron = document.createElement("div");
          electron.className = "electron";
          electron.style.setProperty("--radius", ${size / 2}px);
          electron.style.animationDuration = ${4 + (j % 3)}s;

          const container = document.createElement("div");
          container.style.position = "absolute";
          container.style.width = "100%";
          container.style.height = "100%";
          container.style.top = "0";
          container.style.left = "0";
          container.style.transform = rotate(${(360 / electrones) * j}deg);
          container.appendChild(electron);

          orbit.appendChild(container);
        }
      });

      // Cálculo de energía y longitud de onda para cualquier Z
      let resultadoTexto = Elemento con Z = ${Z}, transición de nivel ${nivelInicio} a nivel ${nivelFinal}.;

      if (nivelInicio !== nivelFinal) {
        const ni = nivelInicio;
        const nf = nivelFinal;

        const energiaEv = 13.6 * Z * Z * (1 / (ni * 2) - 1 / (nf * 2)); // Fórmula para todos los Z
        const energiaAbs = Math.abs(energiaEv);

        const tipoTransicion = energiaEv < 0 ? "Emisión" : "Absorción";

        const h = 4.1357e-15; // eV·s
        const c = 3e8; // m/s

        const longitudOnda = (h * c) / energiaAbs; // en metros
        const longitudNm = longitudOnda * 1e9;

        resultadoTexto += \n\nTipo de transición: ${tipoTransicion}\n +
                          ΔE: ${energiaAbs.toFixed(3)} eV\n +
                          Longitud de onda: ${longitudNm.toFixed(2)} nm;
      } else {
        resultadoTexto += \n\nNo hay cambio de nivel; no se produce transición.;
      }

      document.getElementById("resultado").innerText = resultadoTexto;
    }
  </script>

</body>
</html>
